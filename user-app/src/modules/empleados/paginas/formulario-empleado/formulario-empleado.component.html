<div class="clientes-container">
  <div class="clientes-card">
    <h2 class="titulo-clientes">{{ titulo || 'Nuevo empleado' }}</h2>
    <p class="subtitulo-clientes">Complete la información del empleado</p>

    <!-- Toolbar mínima opcional (puedes quitarla si no quieres nada arriba) -->
    <div class="top-bar" style="margin-bottom: 10px;">
      <button mat-stroked-button class="glass-btn" type="button" (click)="cancelar()">
        <mat-icon>arrow_back</mat-icon> Volver
      </button>
      <span class="spacer"></span>
      <button mat-stroked-button class="glass-btn" type="button">
        <mat-icon>help_outline</mat-icon> Ayuda
      </button>
    </div>

    <!-- FORMULARIO -->
    <form [formGroup]="form" (ngSubmit)="guardar()" class="empleado-form-grid">

      <!-- id oculto (y estado oculto ACTIVO) -->
      <input type="hidden" formControlName="id" />
      <input type="hidden" formControlName="id_estado" />

      <!-- Nombres y apellidos -->
      <mat-form-field appearance="outline" class="input-glass">
        <mat-label>Primer nombre*</mat-label>
        <input matInput formControlName="primer_nombre" required />
      </mat-form-field>

      <mat-form-field appearance="outline" class="input-glass">
        <mat-label>Segundo nombre</mat-label>
        <input matInput formControlName="segundo_nombre" />
      </mat-form-field>

      <mat-form-field appearance="outline" class="input-glass">
        <mat-label>Primer apellido*</mat-label>
        <input matInput formControlName="primer_apellido" required />
      </mat-form-field>

      <mat-form-field appearance="outline" class="input-glass">
        <mat-label>Segundo apellido</mat-label>
        <input matInput formControlName="segundo_apellido" />
      </mat-form-field>

      <!-- DPI, Puesto -->
      <mat-form-field appearance="outline" class="input-glass">
        <mat-label>DPI*</mat-label>
        <input matInput formControlName="DPI" required />
      </mat-form-field>

      <mat-form-field appearance="outline" class="input-glass">
        <mat-label>Puesto*</mat-label>
        <input matInput formControlName="puesto" required />
      </mat-form-field>

      <!-- Salario, Fecha de ingreso -->
      <mat-form-field appearance="outline" class="input-glass">
        <mat-label>Salario (Q)*</mat-label>
        <input matInput type="number" step="0.01" formControlName="salario" required />
      </mat-form-field>

      <mat-form-field appearance="outline" class="input-glass">
        <mat-label>Fecha de ingreso*</mat-label>
        <input matInput type="date" formControlName="fecha_ingreso" required />
      </mat-form-field>

      <!-- Teléfono -->
      <mat-form-field appearance="outline" class="input-glass">
        <mat-label>Teléfono</mat-label>
        <input matInput formControlName="telefono" />
      </mat-form-field>

      <!-- Dirección (2 columnas) -->
      <mat-form-field appearance="outline" class="input-glass col-span-2">
        <mat-label>Dirección</mat-label>
        <textarea matInput rows="2" formControlName="direccion"></textarea>
      </mat-form-field>

      <!-- Zona, Colonia -->
      <mat-form-field appearance="outline" class="input-glass">
        <mat-label>Zona</mat-label>
        <input matInput formControlName="zona" />
      </mat-form-field>

      <mat-form-field appearance="outline" class="input-glass">
        <mat-label>Colonia</mat-label>
        <input matInput formControlName="colonia" />
      </mat-form-field>

      <!-- Municipio dinámico -->
      <mat-form-field appearance="outline" class="input-glass">
        <mat-label>Municipio*</mat-label>
        <mat-select formControlName="id_municipio" required>
          <mat-option *ngFor="let m of municipios" [value]="m.id">{{ m.nombre }}</mat-option>
          <mat-option *ngIf="!municipios || municipios.length === 0" [disabled]="true">Sin datos</mat-option>
        </mat-select>
      </mat-form-field>

      <!-- Acciones -->
      <div class="form-actions col-span-2">
        <button mat-stroked-button class="glass-btn" type="button" (click)="cancelar()">
          Cancelar
        </button>
        <button mat-raised-button class="glass-btn add-btn" type="submit" [disabled]="form.invalid || cargando">
          <mat-icon>save</mat-icon> Guardar
        </button>
      </div>
    </form>

  </div>
</div>
